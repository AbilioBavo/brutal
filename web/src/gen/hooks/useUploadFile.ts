/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/axios";
import type { Client, RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/axios";
import type { UseMutationOptions, UseMutationResult, QueryClient } from "@tanstack/react-query";
import type { UploadFileMutationRequest, UploadFileMutationResponse, UploadFilePathParams, UploadFileQueryParams, UploadFile400, UploadFile401, UploadFile403 } from "../models/UploadFile.ts";
import { mutationOptions, useMutation } from "@tanstack/react-query";
import { buildFormData } from "../.kubb/config.ts";

export const uploadFileMutationKey = () => [{ url: '/api/uploads/:fileType' }] as const

export type UploadFileMutationKey = ReturnType<typeof uploadFileMutationKey>

/**
 * @description Upload one or multiple files. Supports image processing options for image uploads.
 * @summary Upload file(s)
 * {@link /api/uploads/:fileType}
 */
export async function uploadFile(fileType: UploadFilePathParams["fileType"], data?: UploadFileMutationRequest, params?: UploadFileQueryParams, config: Partial<RequestConfig<UploadFileMutationRequest>> & { client?: Client } = {}) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data
  const formData = buildFormData(requestData)
  const res = await request<UploadFileMutationResponse, ResponseErrorConfig<UploadFile400 | UploadFile401 | UploadFile403>, UploadFileMutationRequest>({ method : "POST", url : `/api/uploads/${fileType}`, params, data : formData as FormData, ... requestConfig })
  return res.data
}

export function uploadFileMutationOptions<TContext = unknown>(config: Partial<RequestConfig<UploadFileMutationRequest>> & { client?: Client } = {}) {

        const mutationKey = uploadFileMutationKey()
        return mutationOptions<UploadFileMutationResponse, ResponseErrorConfig<UploadFile400 | UploadFile401 | UploadFile403>, {fileType: UploadFilePathParams["fileType"], data?: UploadFileMutationRequest, params?: UploadFileQueryParams}, TContext>({
          mutationKey,
          mutationFn: async({ fileType, data, params }) => {
            return uploadFile(fileType, data, params, config)
          },
        })

}

/**
 * @description Upload one or multiple files. Supports image processing options for image uploads.
 * @summary Upload file(s)
 * {@link /api/uploads/:fileType}
 */
export function useUploadFile<TContext>(options: 
{
  mutation?: UseMutationOptions<UploadFileMutationResponse, ResponseErrorConfig<UploadFile400 | UploadFile401 | UploadFile403>, {fileType: UploadFilePathParams["fileType"], data?: UploadFileMutationRequest, params?: UploadFileQueryParams}, TContext> & { client?: QueryClient },
  client?: Partial<RequestConfig<UploadFileMutationRequest>> & { client?: Client },
}
 = {}) {

          const { mutation = {}, client: config = {} } = options ?? {}
          const { client: queryClient, ...mutationOptions } = mutation;
          const mutationKey = mutationOptions.mutationKey ?? uploadFileMutationKey()

          const baseOptions = uploadFileMutationOptions(config) as UseMutationOptions<UploadFileMutationResponse, ResponseErrorConfig<UploadFile400 | UploadFile401 | UploadFile403>, {fileType: UploadFilePathParams["fileType"], data?: UploadFileMutationRequest, params?: UploadFileQueryParams}, TContext>
          

          return useMutation<UploadFileMutationResponse, ResponseErrorConfig<UploadFile400 | UploadFile401 | UploadFile403>, {fileType: UploadFilePathParams["fileType"], data?: UploadFileMutationRequest, params?: UploadFileQueryParams}, TContext>({
            ...baseOptions,
            mutationKey,
            ...mutationOptions,
          }, queryClient) as UseMutationResult<UploadFileMutationResponse, ResponseErrorConfig<UploadFile400 | UploadFile401 | UploadFile403>, {fileType: UploadFilePathParams["fileType"], data?: UploadFileMutationRequest, params?: UploadFileQueryParams}, TContext>
      
}