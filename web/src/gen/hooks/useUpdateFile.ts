/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/axios";
import type { Client, RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/axios";
import type { UseMutationOptions, UseMutationResult, QueryClient } from "@tanstack/react-query";
import type { UpdateFileMutationRequest, UpdateFileMutationResponse, UpdateFilePathParams, UpdateFileQueryParams, UpdateFile400, UpdateFile401, UpdateFile403, UpdateFile404 } from "../models/UpdateFile.ts";
import { mutationOptions, useMutation } from "@tanstack/react-query";
import { buildFormData } from "../.kubb/config.ts";

export const updateFileMutationKey = () => [{ url: '/api/uploads/:fileType/:fileName' }] as const

export type UpdateFileMutationKey = ReturnType<typeof updateFileMutationKey>

/**
 * @description Replace an existing file with a new one. Deletes the old file and uploads the new one.
 * @summary Update existing file
 * {@link /api/uploads/:fileType/:fileName}
 */
export async function updateFile(fileType: UpdateFilePathParams["fileType"], fileName: UpdateFilePathParams["fileName"], data?: UpdateFileMutationRequest, params?: UpdateFileQueryParams, config: Partial<RequestConfig<UpdateFileMutationRequest>> & { client?: Client } = {}) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data
  const formData = buildFormData(requestData)
  const res = await request<UpdateFileMutationResponse, ResponseErrorConfig<UpdateFile400 | UpdateFile401 | UpdateFile403 | UpdateFile404>, UpdateFileMutationRequest>({ method : "PATCH", url : `/api/uploads/${fileType}/${fileName}`, params, data : formData as FormData, ... requestConfig })
  return res.data
}

export function updateFileMutationOptions<TContext = unknown>(config: Partial<RequestConfig<UpdateFileMutationRequest>> & { client?: Client } = {}) {

        const mutationKey = updateFileMutationKey()
        return mutationOptions<UpdateFileMutationResponse, ResponseErrorConfig<UpdateFile400 | UpdateFile401 | UpdateFile403 | UpdateFile404>, {fileType: UpdateFilePathParams["fileType"], fileName: UpdateFilePathParams["fileName"], data?: UpdateFileMutationRequest, params?: UpdateFileQueryParams}, TContext>({
          mutationKey,
          mutationFn: async({ fileType, fileName, data, params }) => {
            return updateFile(fileType, fileName, data, params, config)
          },
        })

}

/**
 * @description Replace an existing file with a new one. Deletes the old file and uploads the new one.
 * @summary Update existing file
 * {@link /api/uploads/:fileType/:fileName}
 */
export function useUpdateFile<TContext>(options: 
{
  mutation?: UseMutationOptions<UpdateFileMutationResponse, ResponseErrorConfig<UpdateFile400 | UpdateFile401 | UpdateFile403 | UpdateFile404>, {fileType: UpdateFilePathParams["fileType"], fileName: UpdateFilePathParams["fileName"], data?: UpdateFileMutationRequest, params?: UpdateFileQueryParams}, TContext> & { client?: QueryClient },
  client?: Partial<RequestConfig<UpdateFileMutationRequest>> & { client?: Client },
}
 = {}) {

          const { mutation = {}, client: config = {} } = options ?? {}
          const { client: queryClient, ...mutationOptions } = mutation;
          const mutationKey = mutationOptions.mutationKey ?? updateFileMutationKey()

          const baseOptions = updateFileMutationOptions(config) as UseMutationOptions<UpdateFileMutationResponse, ResponseErrorConfig<UpdateFile400 | UpdateFile401 | UpdateFile403 | UpdateFile404>, {fileType: UpdateFilePathParams["fileType"], fileName: UpdateFilePathParams["fileName"], data?: UpdateFileMutationRequest, params?: UpdateFileQueryParams}, TContext>
          

          return useMutation<UpdateFileMutationResponse, ResponseErrorConfig<UpdateFile400 | UpdateFile401 | UpdateFile403 | UpdateFile404>, {fileType: UpdateFilePathParams["fileType"], fileName: UpdateFilePathParams["fileName"], data?: UpdateFileMutationRequest, params?: UpdateFileQueryParams}, TContext>({
            ...baseOptions,
            mutationKey,
            ...mutationOptions,
          }, queryClient) as UseMutationResult<UpdateFileMutationResponse, ResponseErrorConfig<UpdateFile400 | UpdateFile401 | UpdateFile403 | UpdateFile404>, {fileType: UpdateFilePathParams["fileType"], fileName: UpdateFilePathParams["fileName"], data?: UpdateFileMutationRequest, params?: UpdateFileQueryParams}, TContext>
      
}